!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=42)}({42:function(e,n){function t(){let e={},n=$("#input-newpass").val().trim();if(n.length>0){if(n!=$("#input-confirmpass").val().trim())return null;e.password=n}let t=$("#input-fullname").val().trim();t!=user.fullname&&(e.fullname=t);let r=$("#input-email").val().trim();return r!=user.email&&(e.email=r),e}function r(){return $("input, #confirm-button")}window.user_me={init:function(){$("#input-username").val(user.name),$("#input-fullname").val(user.fullname),$("#input-email").val(user.email),window.onbeforeunload=()=>{let e=t();if(null==e||Object.keys(e).length>0)return"You have unsaved changes on this page. Do you want to leave?"}},save:function(){let e=t();if(0==Object.keys(e).length)$.notify({message:"No changes made."},{type:"warning"});else{let n=$("#input-password").val().trim();if(n.length<8)$.notify({message:"Invalid current password."},{type:"warning"});else{let t=$("#confirm-button");r().attr("disabled","disabled").addClass("disabled"),utils.disableButton(t,"Saving changes..."),$.post("/api/v1/users/me",{changes:e,currentPassword:n}).fail((e,n,t)=>{$.notify({message:"Unable to contact server. See console for details."},{type:"danger"}),console.warn("Unable to edit account (server error):",t)}).done(n=>{n.error?($.notify({message:"Unable to save the changes. See console for details."},{type:"danger"}),console.warn("Unable to edit account (application error):",error)):($.notify({message:"Changes saved."},{type:"success"}),function(e){user=Object.assign(user,e)}(e),$("input[type=password]").val(""))}).always(()=>{r().removeAttr("disabled").removeClass("disabled"),$(".always-disabled").attr("disabled","disabled").addClass("disabled"),utils.enableButton(t,"Save changes")})}}return!1}}}});